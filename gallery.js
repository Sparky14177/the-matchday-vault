export function initGallery(root){const t=root.querySelector('#track');const s=[...t.children];const p=root.querySelector('#prevBtn');const n=root.querySelector('#nextBtn');const d=[...root.querySelector('#dots').children];let i=0;function u(){const w=s[0].getBoundingClientRect().width;t.style.transform=`translateX(${-i*w}px)`;d.forEach((x,k)=>x.setAttribute('aria-current',k===i));}p.addEventListener('click',()=>{i=(i-1+s.length)%s.length;u();});n.addEventListener('click',()=>{i=(i+1)%s.length;u();});d.forEach(x=>x.addEventListener('click',()=>{i=parseInt(x.dataset.idx);u();}));u();const lb=document.getElementById('lightbox'),im=document.getElementById('lbImg');function o(k){i=k;u();im.src=s[i].querySelector('img').src;lb.setAttribute('aria-hidden','false');}s.forEach((el,k)=>el.querySelector('img').addEventListener('click',()=>o(k)));document.getElementById('lbClose').addEventListener('click',()=>lb.setAttribute('aria-hidden','true'));}